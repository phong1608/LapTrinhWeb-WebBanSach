{% extends 'layout.html' %}
{% block content %}

<div class="container">
     <div class="container mt-4">

        <div class="row justify-content-end">
            <div class="col-md-4">
                <form class="form-inline my-2 my-lg-0">
                    <input class="form-control mr-sm-2" type="search" placeholder="Tìm kiếm" aria-label="Tìm kiếm">
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Tìm kiếm</button>
                </form>
            </div>
        </div>
    </div>

    <div class="row">
    <div class="col-md-12">
        <div class="form-group">
            <label for="categorySelect">Danh Mục</label>
            {% for category in categories %}
                <a href="{{ url_for('product_filter',id=category.id) }}">{{ category.name }}</a>
            {% endfor %}
        </div>
    </div>
</div>




    <div class="row">
        {% for product in products.items %}
            <div class="col-lg-4 col-sm-12 mb-4">
                <div class="card border-0 p-3 shadow border-top border-5 rounded d-flex flex-column align-items-stretch">
                    {% if product.image_1 != None %}
                        <img src="/static/images/{{ product.image_1 }}" class="card-img-top rounded align-self-auto flex-grow-1" />
                    {% else %}
                        <img src="https://placehold.co/500x600/png" class="card-img-top rounded flex-grow-1" />
                    {% endif %}

                    <div class="card-body pb-0">
                        <div class="pl-1">
                            <p class="card-title h5 text-dark opacity-75 text-uppercase text-center">{{ product.name }}</p>
                            <p class="card-title text-warning text-center">by <b>{{ product.author }}</b></p>
                        </div>
                        <div class="pl-1">
                            <p class="text-dark text-opacity-75 text-center mb-0">
                                Giá gốc
                                <span class="text-decoration-line-through">
                                    {{ product.price }}
                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="mt-auto">
                        <a href="{{ url_for('product_detail',id=product.id) }}"
                            class="btn btn-primary bg-gradient border-0 form-control">
                            Chi tiết
                        </a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    <div class="row">
    {% for page_num in products.iter_pages() %}
        <div class="col-auto mx-1 text-center">
            <a href="{{ url_for('product_page',page=page_num) }}" class="btn btn-outline-primary btn-sm mt-3">{{ page_num }}</a>
        </div>
    {% endfor %}
</div>





{% endblock content %}